pipeline {
  agent {
    docker {
      image 'node:8.11.4'
      args '-u 0:0'
    }
  }

  stages {

    stage ('Prepare') {
      steps {
        sh 'node --version; npm --version'
        sh 'npm install'
        sh 'ls -la ./node_modules'
        sh './node_modules/.bin/bower install --allow-root'
      }
    }
    // stage ('Build') {
    //   steps {
    //     script {
    //       sh "npm install"
    //       sh "./node_modules/bower/bin/bower install"
    //     }
    //   }
    // }

    /* stage ('Test') {
      steps {
        script {
          sh "npm install -g eslint"
          sh "eslint --ext .js src/"
        }
      }
    } */
  }
}