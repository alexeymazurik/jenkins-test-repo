#!groovy
node {
  currentBuild.result = "SUCCESS"

  def nodeHome = tool 'nodejs8'
  env.PATH="${env.PATH}:${nodeHome}/bin"

  try {
    stage('Checkout'){
      checkout scm
    }

    stage('Build'){
      sh 'node -v'
      sh 'npm i'
      sh './node_modules/bower/bin/bower i'
    }
  }
  catch(err) {
    currentBuild.result = "SUCCESS"
    throw err
  }
}