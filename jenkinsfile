pipeline {
  agent {
    docker {
      image 'node:8.11.4-alpine'
      args '-u 0:0'
    }
  }
   stages {
    stage ('Build') {
      steps {
        script {
          sh "npm install"
          sh "npm install bower"
          sh "./node_modules/bower/bin/bower i --allow-root"
        }
      }
    }
     stage ('Test') {
      steps {
        script {
          sh "npm install -g eslint"
          sh "eslint --ext .js src/"
        }
      }
    }
  }
}